<?xml version="1.0" encoding="UTF-8"?>

<odoo>

    <record id="view_beauty_appointment_line_tree" model="ir.ui.view">
        <field name="name">beauty.appointment.line.tree</field>
        <field name="model">beauty.appointment.line</field>
        <field name="arch" type="xml">
            <tree>
                <field name="appointment_id"/>
                <field name="service_id"/>
                <field name="discount"/>
                <field name="total_price" widget="float_sum" sum="Total"/>
                <field name="duration" widget="float_sum" sum="Total"/>
            </tree>
        </field>
    </record>

    <record id="view_beauty_appointment_line_pivot" model="ir.ui.view">
        <field name="name">beauty.appointment.line.pivot</field>
        <field name="model">beauty.appointment.line</field>
        <field name="arch" type="xml">
            <pivot>
                <field name="service_id" type="row"/>
                <field name="total_price" type="measure"/>
                <field name="duration" type="measure"/>
            </pivot>
        </field>
    </record>

    <record id="view_beauty_appointment_line_graph" model="ir.ui.view">
        <field name="name">beauty.appointment.line.graph</field>
        <field name="model">beauty.appointment.line</field>
        <field name="arch" type="xml">
            <graph>
                <field name="service_id" type="row"/>
                <field name="total_price" type="measure"/>
            </graph>
        </field>
    </record>

    <record id="view_beauty_appointment_line_search" model="ir.ui.view">
        <field name="name">beauty.appointment.line.search</field>
        <field name="model">beauty.appointment.line</field>
        <field name="arch" type="xml">
            <search>
                <field name="appointment_id"/>
                <field name="service_id"/>
                <searchpanel>
                    <field name="appointment_state" string="Filter" hierarchize="1" select="one"
                           enable_counters="1"/>
                    <field name="client_id" string="Filter" hierarchize="1" select="one"
                           enable_counters="1"/>
                </searchpanel>
            </search>
        </field>
    </record>

    <record id="action_beauty_salon_appointment_line_window2" model="ir.actions.act_window">
        <field name="name">Reports</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">beauty.appointment.line</field>
        <field name="view_mode">tree,pivot,graph</field>
<!--        <field name="domain">[('appointment_id.state', '=', 'finished')]</field>-->
    </record>

    <menuitem id="action_beauty_salon_appointment_line_menu"
              action="action_beauty_salon_appointment_line_window2"
              parent="menu_beauty_salon_appointment_line"
              name="Reports" sequence="200"/>

    <record id="action_appointment_workload_report" model="ir.actions.act_window">
        <field name="name">Master Workload Report</field>
        <field name="res_model">master.workload.report.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="binding_model_id" ref="model_beauty_appointment_line"/>
        <field name="binding_type">action</field>
    </record>

</odoo>

<!--<record id="action_appointment_workload_report" model="ir.actions.act_window">-->
<!--    <field name="name">Master Workload Report</field>-->
<!--    <field name="res_model">master.workload.report.wizard</field>-->
<!--    <field name="view_mode">form</field>-->
<!--    <field name="target">new</field>-->
<!--    <field name="binding_model_id" ref="model_beauty_appointment_line"/>-->
<!--    <field name="binding_type">action</field>-->
<!--</record>-->